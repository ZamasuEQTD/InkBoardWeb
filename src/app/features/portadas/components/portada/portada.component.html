<div class="portada-container relative overflow-hidden ">
  <div [ngClass]="{ 'blur-md': this.portada.miniatura.spoiler}" class="w-full h-full bg-cover" style="background-image: url({{this.portada.miniatura.url}});"></div>

  <div  class=" w-full h-full absolute top-0" >

    <div class="fade-gradient absolute w-full h-full flex flex-col p-1 justify-between">

      <a [routerLink]="'hilo/'+ this.portada.id" class="w-full h-full block absolute top-0 left-0 inset-0"></a>

      <div class="flex flex-row text-sm text-white">

        <div class=" flex flex-wrap flex-1 gap-[0.125rem] ">

          <span class="bg-green-500 px-1 font-semibold rounded-md leading-5">
            {{this.portada.subcategoria | uppercase}}
          </span>

          @if(this.portada.es_nuevo){
            <span class="bg-blue-500 px-1 font-semibold rounded-md leading-5">
              Nuevo
            </span>
          }

          @for (icon of this.icons; track $index) {
            @if (icon.active) {
              <span class="size-5 flex justify-center items-center rounded-md" [ngClass]="icon.color">
                <i class="{{icon.icon}}"></i>
              </span>
            }
          }
        </div>

        <button (click)="$event.stopPropagation();menu.toggle($event)" class="size-5 flex justify-center items-center z-[2]">
          <i class="fa-solid fa-ellipsis-vertical"></i>
        </button>

      </div>

      <span *ngIf="true" class="text-lg font-semibold line-clamp-2 text-white">
        {{this.portada.titulo}}
      </span>

    </div>


  </div>
</div>





<p-menu #menu [popup]="true" [model]="this.opciones">

</p-menu>
